<body>
    <div id="box">
        <div id="inputBox">
            <img src="img/searchIcon.png" id="searchIcon" alt="">
            <!-- placeholder for a future image -->
            <input type="text" placeholder="输入品牌名称或网址链接">
        </div>
    </div>
</body>

<script>
    const input = document.querySelector("input")
    const inputBox = document.querySelector("#inputBox")
    let clear = document.getElementById("clearButton");

    input.oninput = () => {
        displayClearButton();
        const userInput = input.value;
        
        if (userInput === "") {
            // ends the event
            return;
        }



        
    }

    const sentRequest = (msg) => parent.postMessage({ pluginMessage: {}}, "*")
    
    function displayClearButton() {
        clear = document.getElementById("clearButton");
        const userInput = input.value;
        
        if (userInput === "") {
            // case to remove the clear button from inputBox if it exists
            if (clear === null) {
                return;
            }
            inputBox.removeChild(clear);
            return;
        }

        // case where input.value is not empty
        if (clear !== null) {
            return;
        }
        const newClear = document.createElement("input");
        newClear.id = "clearButton";
        inputBox.appendChild(newClear);
        newClear.onclick = resetPlugin;
        return;
    }

    function resetPlugin() {
        input.value = "";
        displayClearButton();
    }

</script>

<style>
    * {
        padding: 0;
        margin: 0;
        box-sizing: border-box;
    }
    html,
    body {
        width: fit-content;
        height: fit-content;
        user-select: none; /* may causing some undefined behavior */
    }
    #box {
        left: 0px;
        top: 0px;
        width: 260px;
        height: 393px;
        opacity: 1;
        display: flex;
        justify-content: flex-start;
        align-items: flex-start;
        background: rgba(255, 255, 255, 1);
        padding: 16px 16px 16px 16px;
    }
    #inputBox {
        width: 228px;
        height: 32px;
        opacity: 1;
        border-radius: 4px;
        background: rgba(0, 0, 0, 0.03);
        display: flex;
        justify-content: flex-start;
        align-items: center;
        padding: 8px 8px 8px 8px;
        box-sizing: border-box;
    }
    #inputBox:hover {
        border: 1px solid #E0E0E0;
        padding: 7px 7px 7px 7px;
    }
    #inputBox:focus-within {
        /*focused when a child element is focused*/
        border:1px solid rgba(69, 150, 255, 1);
        padding: 7px 7px 7px 7px;
    }
    #searchIcon {
        left: 8px;
        top: 8px;
        width: 16px;
        height: 16px;
        opacity: 0.4;
        display: flex;
    }
    input[type="text"] {
        margin-left: 4px;
        margin-right: 4px;
        height: 20px;
        width: 172px;
        border: none;
        padding: 0px;
        background-color: transparent;
        opacity: 1;
        font-size: 12px;
        font-weight: 400;
        font-family: PingFang;
        letter-spacing: 0px;
        line-height: 20px;
        color: rgba(32, 32, 32, 1);
        text-align: left;
        vertical-align: top;
    }
    input[type="text"]:focus {
        outline: none;
    }
    input[type="text"]::-webkit-input-placeholder {
        font-size: 12px;
        font-weight: 400;
        font-family: PingFang;
        letter-spacing: 0px;
        line-height: 20px;
        color: rgba(32, 32, 32, 0.4);
    }
    #clearButton {
        left: 204px;
        top: 8px;
        width: 16px;
        height: 16px;
        opacity: 0.8;
        display: flex;
        background-color: transparent;
        background-image: url(img/clear2x.png);
        background-size: cover;
        border: none;
        cursor: pointer;
    }
    #zeroStateDefault {

    }
    #zeroStateNull {

    }
    #zeroStateUnstable {
        
    }
    
</style>